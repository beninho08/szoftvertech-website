<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <title>H4/4 ‚Äì Adatb√°zis terv</title>
  <style>
    body {
      font-family: "Inter", "Segoe UI", Roboto, sans-serif;
      background: #f9f9fb;
      color: #333;
      line-height: 1.65;
      max-width: 1100px;
      margin: auto;
      padding: 2rem;
    }
    h1, h2, h3 {
      color: #5b4b8a;
    }
    h1 { font-size: 2rem; margin-bottom: 1rem; text-align: center; }
    h2 { font-size: 1.5rem; margin-top: 1.5rem; border-bottom: 2px solid #7a65d9; padding-bottom: 0.3rem; }
    h3 { font-size: 1.25rem; margin-top: 1rem; }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
      background: #fff;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 0.7rem;
      text-align: left;
      vertical-align: top;
    }
    th {
      background: #efeff7;
      color: #352c55;
      font-weight: 600;
    }
    ul { margin: 0.5rem 0 0.75rem 1.25rem; }
    .note { color: #555; font-style: italic; margin-top: 0.5rem; }
  </style>
</head>
<body>

  <h1>üóÑÔ∏è H4/4 ‚Äì Adatb√°zis terv</h1>
  <p>A dokumentum c√©lja a rendszer adatkezel√©si strukt√∫r√°j√°nak bemutat√°sa, bele√©rtve az entit√°sokat, rel√°ci√≥kat, adatb√°zis-m≈±veleteket √©s technikai megval√≥s√≠t√°st.</p>

  <h2>1. ER diagram</h2>
  <p>Az ER diagram bemutatja az entit√°sokat √©s azok kapcsolatait. Aj√°nlott eszk√∂z: draw.io, dbdiagram.io.</p>
  <ul>
    <li><strong>Felhaszn√°l√≥</strong> ‚Äì id, n√©v, email, magass√°g_cm</li>
    <li><strong>Foglal√°s</strong> ‚Äì id, felhaszn√°l√≥_id, √ºl√©s_id, id≈ëb√©lyeg</li>
    <li><strong>√úl√©s</strong> ‚Äì id, sor, oszlop, √°llapot</li>
    <li><strong>Terem</strong> ‚Äì id, n√©v</li>
  </ul>
  <p class="note">Kapcsolatok: Felhaszn√°l√≥ 1:N Foglal√°s, Foglal√°s N:1 √úl√©s, √úl√©s N:1 Terem</p>

  <h2>2. Rel√°ci√≥s modell</h2>
  <table>
    <tr><th>T√°bla</th><th>Attrib√∫tumok</th><th>Kulcsok</th></tr>
    <tr><td>users</td><td>id (PK), name, email, height_cm</td><td>PK: id</td></tr>
    <tr><td>reservations</td><td>id (PK), user_id (FK), seat_id (FK), timestamp</td><td>PK: id, FK: user_id, seat_id</td></tr>
    <tr><td>seats</td><td>id (PK), row, column, status, room_id (FK)</td><td>PK: id, FK: room_id</td></tr>
    <tr><td>rooms</td><td>id (PK), name</td><td>PK: id</td></tr>
  </table>

  <h2>3. Adatkezel√©si m≈±veletek</h2>
  <ul>
    <li><strong>Ment√©s:</strong> √∫j foglal√°s besz√∫r√°sa a reservations t√°bl√°ba</li>
    <li><strong>Lek√©rdez√©s:</strong> szabad √ºl√©sek list√°z√°sa adott teremben</li>
    <li><strong>M√≥dos√≠t√°s:</strong> √ºl√©s st√°tusz√°nak friss√≠t√©se foglal√°s ut√°n</li>
    <li><strong>T√∂rl√©s:</strong> foglal√°s visszavon√°sa ‚Üí √ºl√©s st√°tusz vissza√°ll√≠t√°sa</li>
  </ul>

  <h2>4. Adatb√°zis-komponensek</h2>
  <table>
    <tr><th>Oszt√°ly</th><th>Felel≈ëss√©g</th></tr>
    <tr><td>UserDAO</td><td>Felhaszn√°l√≥i adatok kezel√©se</td></tr>
    <tr><td>ReservationRepository</td><td>Foglal√°sok ment√©se, lek√©rdez√©se</td></tr>
    <tr><td>SeatManager</td><td>√úl√©s√°llapotok friss√≠t√©se</td></tr>
    <tr><td>RoomService</td><td>Terem konfigur√°ci√≥k kezel√©se</td></tr>
  </table>

  <h2>5. Technikai megval√≥s√≠t√°s</h2>
  <ul>
    <li><strong>Adatb√°zis:</strong> SQLite (protot√≠pushoz), PostgreSQL (√©les verzi√≥hoz aj√°nlott)</li>
    <li><strong>ORM:</strong> SQLAlchemy</li>
    <li><strong>Migr√°ci√≥:</strong> Alembic</li>
    <li><strong>Kapcsol√≥d√°s:</strong> FastAPI dependency injection</li>
  </ul>

  <p class="note"></p>

</body>
</html>
